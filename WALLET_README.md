# ๐ฐ ูุธุงู ุงููุญูุธุฉ ูุงูุฏูุน ุงูุฅููุชุฑููู - Tabibek

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูููุญูุธุฉ ุงูุฅููุชุฑูููุฉ ูุงูุฏูุน ูุชูุญ ูููุฑุถู ูุงูุฃุทุจุงุก:
- ุดุญู ุงูุฑุตูุฏ ุจุทุฑู ุฏูุน ูุชุนุฏุฏุฉ
- ุณุญุจ ุงูุฃููุงู
- ุนุฑุถ ุงูุฑุตูุฏ ุงูุญุงูู
- ูุชุงุจุนุฉ ุณุฌู ุงููุนุงููุงุช ุงููุงูู
- ุนุฑุถ ุฅุญุตุงุฆูุงุช ูุงููุฉ

## ๐ ุงููููุฒุงุช

### โ ูููุฑุถู ูุงูุฃุทุจุงุก:
- ๐ณ ุดุญู ุงูุฑุตูุฏ (ุจุทุงูุฉ ุงุฆุชูุงูุ ุชุญููู ุจูููุ ูุญูุธุฉ ุฅููุชุฑูููุฉ)
- ๐ธ ุณุญุจ ุงูุฑุตูุฏ (ุชุญููู ุจูููุ ูุญูุธุฉ ุฅููุชุฑูููุฉ)
- ๐ ุนุฑุถ ุงูุฑุตูุฏ ูุงูุฅุญุตุงุฆูุงุช
- ๐ ุณุฌู ูุนุงููุงุช ูุงูู ูููุตู
- ๐ ุฃูุงู ุนุงูู ูุน ุชุณุฌูู IP ู User Agent
- ๐ฑ ุฏุนู ุงูุนููุฉ ุงูููุฑูุชุงููุฉ (ุฃูููุฉ - MRU)

### ๐ผ ุงูุนูููุงุช ูุงูุฑุณูู:
- ุฑุณูู ุงูุฅูุฏุงุน ุจุงูุจุทุงูุฉ: 2%
- ุฑุณูู ุงูุณุญุจ: 5 ุฃูููุฉ (ุซุงุจุชุฉ)
- ุนูููุฉ ุงูููุงุนูุฏ: 10%
- ุงูุญุฏ ุงูุฃุฏูู ููุณุญุจ: 100 ุฃูููุฉ

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูููุดุฃุฉ:

1. **wallets** - ูุญูุธุฉ ููู ูุณุชุฎุฏู
   - ุงูุฑุตูุฏ ุงูุญุงูู
   - ุงูุนููุฉ
   - ุชุงุฑูุฎ ุขุฎุฑ ูุนุงููุฉ

2. **transactions** - ุณุฌู ุฌููุน ุงููุนุงููุงุช
   - ููุน ุงููุนุงููุฉ (ุฅูุฏุงุนุ ุณุญุจุ ุฏูุนุ ุงุณุชุฑุฏุงุฏ)
   - ุงููุจูุบ
   - ุงูุฑุตูุฏ ูุจู ูุจุนุฏ
   - ุงูุญุงูุฉ
   - ูุนูููุงุช ุฅุถุงููุฉ (metadata)

3. **withdrawal_requests** - ุทูุจุงุช ุงูุณุญุจ
   - ูุนูููุงุช ุงูุญุณุงุจ ุงูุจููู
   - ุญุงูุฉ ุงูุทูุจ
   - ููุงุญุธุงุช ุงูุฅุฏุงุฑุฉ

4. **commission_settings** - ุฅุนุฏุงุฏุงุช ุงูุนูููุงุช
   - ููุน ุงูุนูููุฉ (ุซุงุจุชุฉ ุฃู ูุณุจุฉ ูุฆููุฉ)
   - ุงููููุฉ
   - ุงูุญุฏ ุงูุฃุฏูู ูุงูุฃูุตู

5. **wallet_activity_log** - ุณุฌู ูุดุงุท ุงููุญูุธุฉ
   - ุฌููุน ุงูุฅุฌุฑุงุกุงุช
   - IP Address
   - User Agent

6. **payment_cards** - ุจุทุงูุงุช ุงูุฏูุน ุงููุญููุธุฉ (ุงุฎุชูุงุฑู)

## ๐ ุงูุชุซุจูุช

### 1. ุชุทุจูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

**ุงูุทุฑููุฉ ุงูุฃููู - phpMyAdmin:**
```sql
1. ุงูุชุญ phpMyAdmin
2. ุงุฎุชุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช tabibak
3. ุงูุชุญ ููู: backend/database/quick_wallet_setup.sql
4. ุงูุณุฎ ุงููุญุชูู ูุงูุตูู ูู ุชุจููุจ SQL
5. ุงุถุบุท "ุชูููุฐ" (Execute)
```

**ุงูุทุฑููุฉ ุงูุซุงููุฉ - ุณุทุฑ ุงูุฃูุงูุฑ:**
```bash
mysql -u root -p tabibak < backend/database/schema_wallet.sql
```

### 2. ุงูุชุญูู ูู ุงูุชุซุจูุช:

ูู ุจุชุดุบูู ุงูุงุณุชุนูุงู ุงูุชุงูู ููุชุญูู:
```sql
SHOW TABLES LIKE '%wallet%';
SHOW TABLES LIKE '%transaction%';
```

ูุฌุจ ุฃู ุชุฑู ุงูุฌุฏุงูู ุงูุชุงููุฉ:
- wallets
- transactions
- withdrawal_requests
- wallet_activity_log
- commission_settings
- payment_cards

## ๐ฑ ุงูุงุณุชุฎุฏุงู

### ุงููุตูู ุฅูู ุงููุญูุธุฉ:

1. ุงูุชุญ ุงูุชุทุจูู
2. ุงุฐูุจ ุฅูู **ุงูููู ุงูุดุฎุตู**
3. ุงุถุบุท ุนูู **"ุงููุญูุธุฉ ูุงูุฑุตูุฏ"**

### ุดุญู ุงูุฑุตูุฏ:

1. ุงุถุบุท ุนูู ุฒุฑ **"ุดุญู"**
2. ุฃุฏุฎู ุงููุจูุบ
3. ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน:
   - ุจุทุงูุฉ ุงุฆุชูุงู (ุฑุณูู 2%)
   - ุชุญููู ุจููู
   - ูุญูุธุฉ ุฅููุชุฑูููุฉ
4. ุงุถุบุท **"ุดุญู"**

### ุณุญุจ ุงูุฑุตูุฏ:

1. ุงุถุบุท ุนูู ุฒุฑ **"ุณุญุจ"**
2. ุฃุฏุฎู ุงููุจูุบ (ุงูุญุฏ ุงูุฃุฏูู: 100 ุฃูููุฉ)
3. ุงุฎุชุฑ ุทุฑููุฉ ุงูุณุญุจ
4. ุฃุฏุฎู ูุนูููุงุช ุงูุญุณุงุจ ุงูุจููู ุฃู ุฑูู ุงููุญูุธุฉ
5. ุงุถุบุท **"ุณุญุจ"**
6. ุงูุชุธุฑ ููุงููุฉ ุงูุฅุฏุงุฑุฉ

**ููุงุญุธุฉ:** ุณูุชู ุฎุตู ุฑุณูู ุงูุณุญุจ (5 ุฃูููุฉ) ุชููุงุฆูุงู

### ุนุฑุถ ุงููุนุงููุงุช:

- ุงูุชูู ุฅูู ุชุจููุจ **"ุงููุนุงููุงุช"**
- ุดุงูุฏ ุฌููุน ูุนุงููุงุชู ูุน ุงูุชูุงุตูู:
  - ููุน ุงููุนุงููุฉ
  - ุงููุจูุบ
  - ุงูุชุงุฑูุฎ ูุงูููุช
  - ุงูุฑุตูุฏ ูุจู ูุจุนุฏ
  - ุงูุญุงูุฉ
  - ุงูุฑูู ุงููุฑุฌุนู

## ๐ ูุงุฌูุงุช API

### 1. ุงูุญุตูู ุนูู ุงูุฑุตูุฏ:
```http
GET /api/wallet/get_balance.php?user_id={user_id}
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "wallet": {
    "id": 1,
    "user_id": 1,
    "balance": 1500.00,
    "currency": "MRU",
    "currency_symbol": "ุฃ.ู"
  },
  "statistics": {
    "total_deposits": 2000.00,
    "total_withdrawals": 300.00,
    "total_payments": 200.00,
    "total_transactions": 15
  }
}
```

### 2. ุฅูุฏุงุน ุฑุตูุฏ:
```http
POST /api/wallet/deposit.php
Content-Type: application/json

{
  "user_id": 1,
  "amount": 500.00,
  "payment_method": "card",
  "description": "ุดุญู ุฑุตูุฏ"
}
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฅูุฏุงุน ุงููุจูุบ ุจูุฌุงุญ",
  "transaction": {
    "id": 123,
    "reference": "DEP-ABC123",
    "amount": 490.00,
    "commission": 10.00,
    "gross_amount": 500.00,
    "balance_after": 1990.00
  }
}
```

### 3. ุทูุจ ุณุญุจ:
```http
POST /api/wallet/withdraw.php
Content-Type: application/json

{
  "user_id": 1,
  "amount": 200.00,
  "withdrawal_method": "bank_transfer",
  "bank_name": "ุงูุจูู ุงููุทูู",
  "account_number": "123456789",
  "account_holder_name": "ุฃุญูุฏ ูุญูุฏ"
}
```

### 4. ุงูุญุตูู ุนูู ุงููุนุงููุงุช:
```http
GET /api/wallet/get_transactions.php?user_id=1&limit=50&offset=0
```

**ูุนุงููุงุช ุงุฎุชูุงุฑูุฉ:**
- `type`: deposit, withdrawal, payment, refund
- `status`: pending, completed, failed, cancelled
- `limit`: ุนุฏุฏ ุงููุชุงุฆุฌ (ุงูุชุฑุงุถู: 50)
- `offset`: ููุตูุญุงุช (ุงูุชุฑุงุถู: 0)

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ ูููุญูุธุฉ:
- ๐ณ ุจุทุงูุฉ ุนุฑุถ ุงูุฑุตูุฏ ุจุชุตููู ุฌุฐุงุจ
- ๐ ุฅุญุตุงุฆูุงุช ููุตูุฉ
- โก ุฃุฒุฑุงุฑ ุณุฑูุนุฉ ููุดุญู ูุงูุณุญุจ
- ๐ ูุงุฆูุฉ ุงููุนุงููุงุช

### ุงูุชุตููู:
- โจ ุชุตููู ุนุตุฑู ูุฌุฐุงุจ
- ๐จ ุฃููุงู ูุชูุงุณูุฉ
- ๐ฑ ูุชุฌุงูุจ ูุน ุฌููุน ุงูุฃุญุฌุงู
- ๐ ุฏุนู ุงููุถุน ุงูุฏุงูู (ูุฑูุจุงู)

## ๐ ุงูุฃูุงู

- โ ุชุณุฌูู IP Address ููู ูุนุงููุฉ
- โ ุชุณุฌูู User Agent
- โ ุงูุชุญูู ูู ุงูุฑุตูุฏ ูุจู ุงูุณุญุจ
- โ ูุนุงููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช (Transactions) ูุถูุงู ุณูุงูุฉ ุงูุจูุงูุงุช
- โ ุฑูู ูุฑุฌุนู ูุฑูุฏ ููู ูุนุงููุฉ
- โ ุณุฌู ูุดุงุท ูุงูู

## ๐ ุฃููุงุน ุงููุนุงููุงุช

1. **deposit** (ุฅูุฏุงุน) - ุดุญู ุงูุฑุตูุฏ
2. **withdrawal** (ุณุญุจ) - ุณุญุจ ุงูุฃููุงู
3. **payment** (ุฏูุน) - ุฏูุน ููููุงุนูุฏ ุฃู ุงูุฎุฏูุงุช
4. **refund** (ุงุณุชุฑุฏุงุฏ) - ุงุณุชุฑุฏุงุฏ ุงูุฃููุงู
5. **transfer** (ุชุญููู) - ุชุญููู ุจูู ุงููุณุชุฎุฏููู
6. **commission** (ุนูููุฉ) - ุนูููุงุช ุงููุธุงู

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ูุฑูุจุงู:
- [ ] ุฑุจุท ุจูุงุจุงุช ุฏูุน ุญููููุฉ (Stripe, PayPal)
- [ ] ูุธุงู ุฅุดุนุงุฑุงุช ูููุนุงููุงุช
- [ ] ุชูุงุฑูุฑ ูุงููุฉ ูุชูุฏูุฉ
- [ ] ุฏุนู ุนููุงุช ูุชุนุฏุฏุฉ
- [ ] ูุธุงู cashback ูููุงูุขุช
- [ ] ุชุญููู ุงูุฃููุงู ุจูู ุงููุณุชุฎุฏููู
- [ ] ูุญูุธุฉ ููุนุงุฆูุฉ
- [ ] ุฌุฏููุฉ ุงูุฏูุนุงุช ุงููุชูุฑุฑุฉ

### ููุชุฑุญุงุช:
- [ ] ุชูุงูู ูุน Apple Pay ู Google Pay
- [ ] ุฏุนู ุงูุนููุงุช ุงููุดูุฑุฉ
- [ ] ุจุฑูุงูุฌ ููุงุก ูููุงุท
- [ ] ุฎุตููุงุช ูุนุฑูุถ ุฎุงุตุฉ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูุธูุฑ ุงูุฑุตูุฏ
**ุงูุญู:** ุชุฃูุฏ ูู ุชุทุจูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ

### ุงููุดููุฉ: ูุดู ุงูุฅูุฏุงุน
**ุงูุญู:** ุชุญูู ูู:
- ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุตุญุฉ ุจูุงูุงุช ุงูุฏูุน
- ุชููุฑ ุงูุฎุฏูุฉ

### ุงููุดููุฉ: ุทูุจ ุงูุณุญุจ ูุนูู
**ุงูุญู:** ุทูุจุงุช ุงูุณุญุจ ุชุญุชุงุฌ ููุงููุฉ ุงูุฅุฏุงุฑุฉ (ูุฐุง ุทุจูุนู)

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุงูุชุญ issue ูู GitHub
- ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ุฌุฒุก ูู ุชุทุจูู Tabibek ุงูุทุจู.

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** ูุฑูู Tabibek  
**ุงูุชุงุฑูุฎ:** ุฏูุณูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0
